
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Advanced command line interface for Codeigniter 3.0 using the Symfony Console component.">
      
      
        <link rel="canonical" href="https://ci-craftsman.github.io/documentation/commands/">
      
      
        <meta name="author" content="David Sosa Valdes">
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.0">
    
    
      
        <title>Commands - Craftsman</title>
      
    
    
      <script src="../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-b6a6d08807.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="teal" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://ci-craftsman.github.io/documentation/" title="Craftsman" class="md-header-nav__button md-logo">
          
            
              <img src="../images/ic_cr.png" width="24" height="24">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Commands
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/CI-Craftsman/CLI" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Craftsman
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../images/ic_cr.png">
        
      
    </div>
    Craftsman
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/CI-Craftsman/CLI" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Craftsman
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../usage/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Commands
      </label>
    
    <a href="./" title="Commands" class="md-nav__link md-nav__link--active">
      Commands
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#console" title="Console" class="md-nav__link">
    Console
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serve" title="Serve" class="md-nav__link">
    Serve
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrations" title="Migrations" class="md-nav__link">
    Migrations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-names" title="File names" class="md-nav__link">
    File names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-info" title="Displaying info" class="md-nav__link">
    Displaying info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runners" title="Runners" class="md-nav__link">
    Runners
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#latest" title="Latest" class="md-nav__link">
    Latest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rolling-back" title="Rolling-back" class="md-nav__link">
    Rolling-back
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#previous" title="Previous" class="md-nav__link">
    Previous
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset" title="Reset" class="md-nav__link">
    Reset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh" title="Refresh" class="md-nav__link">
    Refresh
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seeders" title="Seeders" class="md-nav__link">
    Seeders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generators" title="Generators" class="md-nav__link">
    Generators
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controller" title="Controller" class="md-nav__link">
    Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model" title="Model" class="md-nav__link">
    Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration" title="Migration" class="md-nav__link">
    Migration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeders_1" title="Seeders" class="md-nav__link">
    Seeders
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../extra/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributions/" title="Contributions" class="md-nav__link">
      Contributions
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#console" title="Console" class="md-nav__link">
    Console
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serve" title="Serve" class="md-nav__link">
    Serve
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrations" title="Migrations" class="md-nav__link">
    Migrations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-names" title="File names" class="md-nav__link">
    File names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-info" title="Displaying info" class="md-nav__link">
    Displaying info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runners" title="Runners" class="md-nav__link">
    Runners
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#latest" title="Latest" class="md-nav__link">
    Latest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rolling-back" title="Rolling-back" class="md-nav__link">
    Rolling-back
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#previous" title="Previous" class="md-nav__link">
    Previous
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset" title="Reset" class="md-nav__link">
    Reset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh" title="Refresh" class="md-nav__link">
    Refresh
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seeders" title="Seeders" class="md-nav__link">
    Seeders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generators" title="Generators" class="md-nav__link">
    Generators
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controller" title="Controller" class="md-nav__link">
    Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model" title="Model" class="md-nav__link">
    Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration" title="Migration" class="md-nav__link">
    Migration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeders_1" title="Seeders" class="md-nav__link">
    Seeders
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Commands</h1>
                
                <h2 id="console">Console<a class="headerlink" href="#console" title="Permanent link">&para;</a></h2>
<p>Craftsman comes with a built in <a href="http://psysh.org">REPL command</a>  that makes it easy to explore your application. You can start it with:</p>
<div class="codehilite"><pre><span></span>php craftsman console
</pre></div>


<p>This will bootstrap your application and start an interactive console. At this point you can interact with your application code and execute queries using your application’s models. To quit you can use <code>CTRL-C</code> or by typing <code>exit</code>.</p>
<hr />
<h2 id="serve">Serve<a class="headerlink" href="#serve" title="Permanent link">&para;</a></h2>
<p>Typically, you may use a web server such as Apache or Nginx to serve your Codeigniter applications. If you are on PHP 5.4+ and would like to use PHP's built-in development server, you may use the serve command:</p>
<div class="codehilite"><pre><span></span>php craftsman serve
</pre></div>


<p>By default the HTTP-server will listen to port 8000. However if that port is already in use or you wish to serve multiple applications this way, you might want to specify what port to use. Just add the --port argument:</p>
<div class="codehilite"><pre><span></span>php craftsman serve --port=8080
</pre></div>


<hr />
<h2 id="migrations">Migrations<a class="headerlink" href="#migrations" title="Permanent link">&para;</a></h2>
<p>Migration schemes are simple files that hold the commands to apply changes to your database. They may create/update tables or fields, but they are not limited to just changing the schema, you could use them to fix bad data in the database or populate new fields.</p>
<div class="admonition warning">
<p class="admonition-title">Database Connection Required</p>
<p>If you're going to use Migration Commands you should configure your "application/config/database.php" settings to access to your database.</p>
</div>
<h3 id="file-names">File names<a class="headerlink" href="#file-names" title="Permanent link">&para;</a></h3>
<p>Each Migration may run in numeric order forward or backwards depending on the method taken. Two numbering styles are available:</p>
<ul>
<li><strong>Sequential</strong>: each migration is enumerated in sequence, starting with 001. Each number must be three digits, and there must not be any gaps in the sequence.</li>
<li><strong>Timestamp</strong>: each migration is enumerated with a timestamp, in <code>YYYYMMDDHHIISS</code> format (e.g. 20121031100537). This helps to prevent conflicts when working in a team environment.</li>
</ul>
<p>By default Craftsman uses the 'Timestamp' style but you can change to 'Sequential' using the <code>--sequential</code> argument.</p>
<h3 id="displaying-info">Displaying info<a class="headerlink" href="#displaying-info" title="Permanent link">&para;</a></h3>
<p>You can display the current migration status with the command:</p>
<div class="codehilite"><pre><span></span>php craftsman migrate:check
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span>(in ~/workspace/codeigniter/application/)

----------- ----------- ---------------- ------------------
 Name        Type        Local version    Database version  
----------- ----------- ---------------- ------------------
 ci_system   timestamp   20161106010705   20161106010705    
----------- ----------- ---------------- ------------------

Migration directory: migrations/

[OK] Database is up-to-date.    
</pre></div>


<p>Below the information table, there is a legend witch indicates the action to take. If a database update is available, the legend displays the following message:</p>
<div class="codehilite"><pre><span></span>! [NOTE] The Database is not up-to-date with the latest changes, run:&#39;migrate:latest&#39; to update them.
</pre></div>


<h3 id="runners">Runners<a class="headerlink" href="#runners" title="Permanent link">&para;</a></h3>
<p>Each migration command shows relevant information about the db scheme changes by default. Here's a list of possible options.</p>
<h4 id="latest">Latest<a class="headerlink" href="#latest" title="Permanent link">&para;</a></h4>
<p>Allows you to migrate the latest version, the migration class will use the very newest migration found in the <em>Filesystem</em>.</p>
<div class="codehilite"><pre><span></span>php craftsman migrate:latest
</pre></div>


<h4 id="version">Version<a class="headerlink" href="#version" title="Permanent link">&para;</a></h4>
<p>Allows you to roll back changes or step forwards pro-grammatically to specific versions.</p>
<div class="codehilite"><pre><span></span>php craftsman migrate:version &lt;number&gt;
</pre></div>


<h3 id="rolling-back">Rolling-back<a class="headerlink" href="#rolling-back" title="Permanent link">&para;</a></h3>
<p>Allows you to quickly roll back and forth through the history of the migration schema, so as to work with desired version. Here's a list of possible options.</p>
<h4 id="previous">Previous<a class="headerlink" href="#previous" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>php craftsman migrate:rollback
</pre></div>


<h4 id="reset">Reset<a class="headerlink" href="#reset" title="Permanent link">&para;</a></h4>
<p>Rollback all migrations.</p>
<div class="codehilite"><pre><span></span>php craftsman migrate:reset
</pre></div>


<h4 id="refresh">Refresh<a class="headerlink" href="#refresh" title="Permanent link">&para;</a></h4>
<p>Rollback all migrations and run them all again.</p>
<div class="codehilite"><pre><span></span>php craftsman migrate:refresh
</pre></div>


<hr />
<h2 id="seeders">Seeders<a class="headerlink" href="#seeders" title="Permanent link">&para;</a></h2>
<p>Craftsman comes with a simple method of seeding your database. Seeders may have any name you wish, but probably should follow the <a href="https://codeigniter.com/userguide3/general/styleguide.html">CodeIgniter Style Guide</a>.</p>
<p>A seeder class only contains the <code>run()</code> method by default, this method is called when the <code>db:seed</code> command is executed. Within the run method, you may insert data into your database however you wish. Here's an example:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;BASEPATH&#39;</span><span class="p">))</span> <span class="k">exit</span><span class="p">(</span><span class="s1">&#39;No direct script access allowed&#39;</span><span class="p">);</span>

<span class="k">use</span> <span class="nx">Craftsman\Database\Seeder</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Foo</span> <span class="k">extends</span> <span class="nx">Seeder</span>
<span class="p">{</span>
  <span class="k">private</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;&lt;table_name&gt;&#39;</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">run</span><span class="p">()</span>
  <span class="p">{</span>   
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert_batch</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">,</span> <span class="p">[</span>
      <span class="c1">// insert your data here...</span>
    <span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* End of file Foo.php */</span>
<span class="cm">/* Location: /path/to/application/seeders/Foo.php */</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<p>One you have written your seeder class, you may use the command:</p>
<div class="codehilite"><pre><span></span>php craftsman db:seed &lt;name&gt;
</pre></div>


<p>Check the <a href="https://codeigniter.com/user_guide/query_builder.html">Query Builder Class</a> to manually insert data.</p>
<h2 id="generators">Generators<a class="headerlink" href="#generators" title="Permanent link">&para;</a></h2>
<p>Craftsman provides a variety of generators to speed up your development process.</p>
<h3 id="controller">Controller<a class="headerlink" href="#controller" title="Permanent link">&para;</a></h3>
<p>Generate a controller with the command:</p>
<div class="codehilite"><pre><span></span>php craftsman generate:controller &lt;name&gt;
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;BASEPATH&#39;</span><span class="p">))</span> <span class="k">exit</span><span class="p">(</span><span class="s1">&#39;No direct script access allowed&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">Foo</span> <span class="k">extends</span> <span class="nx">CI_Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Display a listing of the resource.</span>
<span class="sd">     * GET /foo</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Display the specified resource.</span>
<span class="sd">     * GET /foo/read/{id}</span>
<span class="sd">     *</span>
<span class="sd">     * @param  int  $id</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">read</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>   

    <span class="sd">/**</span>
<span class="sd">     * Show the form for creating a new resource.</span>
<span class="sd">     * GET /foo/create</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Store a newly created resource in storage.</span>
<span class="sd">     * POST /foo/store</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">store</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Show the form for editing the specified resource.</span>
<span class="sd">     * GET /foo/edit/{id}</span>
<span class="sd">     *</span>
<span class="sd">     * @param  int  $id</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>   

    <span class="sd">/**</span>
<span class="sd">     * Update the specified resource in storage.</span>
<span class="sd">     * PUT /foo/update/{id}</span>
<span class="sd">     *</span>
<span class="sd">     * @param  int  $id</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">update</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Remove the specified resource from storage.</span>
<span class="sd">     * DELETE /foo/delete/{id}</span>
<span class="sd">     *</span>
<span class="sd">     * @param  int  $id</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* End of file Foo.php */</span>
<span class="cm">/* Location: /path/to/application/controllers/Foo.php */</span>  
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<h3 id="model">Model<a class="headerlink" href="#model" title="Permanent link">&para;</a></h3>
<p>Generate a model with the command:</p>
<div class="codehilite"><pre><span></span>php craftsman generate:model &lt;name&gt;
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;BASEPATH&#39;</span><span class="p">))</span> <span class="k">exit</span><span class="p">(</span><span class="s1">&#39;No direct script access allowed&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">Foo_model</span> <span class="k">extends</span> <span class="nx">CI_Model</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">database</span><span class="p">();</span>    
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* End of file Foo_model.php */</span>
<span class="cm">/* Location: /path/to/application/models/Foo_model.php */</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<h3 id="migration">Migration<a class="headerlink" href="#migration" title="Permanent link">&para;</a></h3>
<p>Generate a migration with the command:</p>
<div class="codehilite"><pre><span></span>php craftsman generate:migration &lt;name&gt;
</pre></div>


<p>Regardless of which style you choose to use, the generator command will prefix your files with the migration number. For example:</p>
<ul>
<li>001_add_blog.php (sequential)</li>
<li>20121031100537_add_blog.php (timestamp)    </li>
</ul>
<p><strong>Name prefixes</strong></p>
<p>Use the prefix <code>create_</code> or <code>modify_</code> if you want to create a migration with the appropriate <code>add_column</code> and <code>update_column</code> statements. Here's an example:</p>
<div class="codehilite"><pre><span></span>php craftsman generate:migration create_users firstname:varchar lastname:varchar email:varchar active:smallint
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;BASEPATH&#39;</span><span class="p">))</span> <span class="k">exit</span><span class="p">(</span><span class="s1">&#39;No direct script access allowed&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">Migration_create_users</span> <span class="k">extends</span> <span class="nx">CI_Migration</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">dbforge</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">database</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">create_users_table</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dbforge</span><span class="o">-&gt;</span><span class="na">drop_table</span><span class="p">(</span><span class="s1">&#39;ci_users&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">create_users_table</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dbforge</span><span class="o">-&gt;</span><span class="na">add_field</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;INT&#39;</span><span class="p">,</span>
                <span class="s1">&#39;null&#39;</span> <span class="o">=&gt;</span> <span class="k">FALSE</span><span class="p">,</span>
                <span class="s1">&#39;auto_increment&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
            <span class="p">),</span>
            <span class="s1">&#39;firstname&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;VARCHAR&#39;</span><span class="p">,</span>
                <span class="s1">&#39;constraint&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s1">&#39;null&#39;</span> <span class="o">=&gt;</span> <span class="k">FALSE</span>
            <span class="p">),</span>
            <span class="s1">&#39;lastname&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;VARCHAR&#39;</span><span class="p">,</span>
                <span class="s1">&#39;constraint&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s1">&#39;null&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
            <span class="p">),</span>
            <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;VARCHAR&#39;</span><span class="p">,</span>
                <span class="s1">&#39;constraint&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s1">&#39;null&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
            <span class="p">),</span>
            <span class="s1">&#39;active&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;SMALLINT&#39;</span><span class="p">,</span>
                <span class="s1">&#39;null&#39;</span> <span class="o">=&gt;</span> <span class="k">FALSE</span><span class="p">,</span>
                <span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
            <span class="p">),</span>
        <span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dbforge</span><span class="o">-&gt;</span><span class="na">add_key</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dbforge</span><span class="o">-&gt;</span><span class="na">create_table</span><span class="p">(</span><span class="s1">&#39;ci_users&#39;</span><span class="p">,</span><span class="k">TRUE</span><span class="p">);</span>      
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* End of file 001_create_users.php.php */</span>
<span class="cm">/* Location: path/to/application/migrations/001_create_users.php */</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<p>Now it's your turn to give the finishing touches before running this scheme. Check the <a href="https://codeigniter.com/user_guide/database/forge.html">Database Forge documentation</a> for more information about Codeigniter Migrations.</p>
<h3 id="seeders_1">Seeders<a class="headerlink" href="#seeders_1" title="Permanent link">&para;</a></h3>
<p>Generate a seeder with the command:</p>
<div class="codehilite"><pre><span></span>php craftsman generate:seeder &lt;name&gt;
</pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Craftsman\Database\Seeder</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Foo</span> <span class="k">extends</span> <span class="nx">Seeder</span> <span class="k">implements</span> <span class="nx">\Craftsman\Interfaces\Seeder</span>
<span class="p">{</span>
  <span class="k">private</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;ci_foo&#39;</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">run</span><span class="p">()</span>
  <span class="p">{</span>   
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert_batch</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">,</span> <span class="p">[</span>
      <span class="c1">// insert your data here...</span>
    <span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* End of file Foo.php */</span>
<span class="cm">/* Location: /path/to/application/seeders/Foo.php */</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<p>All seed classes are stored by default in your <code>path/to/application/seeders</code> folder.</p>
<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../usage/" title="Usage" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Usage
              </span>
            </div>
          </a>
        
        
          <a href="../extra/" title="Resources" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Resources
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> Craftsman is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC SA License</a>.

          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/davidsosavaldes" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/itsdsv" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://mx.linkedin.com/in/david-sosa-valdes" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>